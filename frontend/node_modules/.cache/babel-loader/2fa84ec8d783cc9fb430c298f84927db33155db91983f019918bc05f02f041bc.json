{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\meeta\\\\Desktop\\\\Study\\\\Sem 4\\\\Capstone\\\\TiffinConnect\\\\frontend\\\\src\\\\components\\\\AdminDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './adminDashboard.css'; // Custom styles for the dashboard\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = () => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [providers, setProviders] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null); // State to hold selected user for view/edit\n  const [selectedProvider, setSelectedProvider] = useState(null); // State to hold selected provider for view/edit\n  const [editMode, setEditMode] = useState(false); // State to handle edit mode\n  const [loading, setLoading] = useState(true); // Loading state\n  const [error, setError] = useState(null); // Error state\n\n  // Fetch data when the component mounts\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        await fetchUsers();\n        await fetchProviders();\n        await fetchOrders();\n        setLoading(false); // Set loading to false once data is fetched\n      } catch (err) {\n        setError('Failed to load data');\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Fetch users from the backend\n  const fetchUsers = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/api/admin/users', {\n        headers: {\n          Authorization: `Bearer ${sessionStorage.getItem('token')}` // Pass the JWT token\n        }\n      });\n      setUsers(response.data);\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    }\n  };\n\n  // Fetch providers from the backend\n  const fetchProviders = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/api/admin/providers', {\n        headers: {\n          Authorization: `Bearer ${sessionStorage.getItem('token')}`\n        }\n      });\n      setProviders(response.data);\n    } catch (error) {\n      console.error('Error fetching providers:', error);\n    }\n  };\n\n  // Fetch orders from the backend\n  const fetchOrders = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/api/admin/orders', {\n        headers: {\n          Authorization: `Bearer ${sessionStorage.getItem('token')}`\n        }\n      });\n      setOrders(response.data);\n    } catch (error) {\n      console.error('Error fetching orders:', error);\n    }\n  };\n\n  // View User Details\n  const handleViewUser = async userId => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/admin/users/${userId}`, {\n        headers: {\n          Authorization: `Bearer ${sessionStorage.getItem('token')}`\n        }\n      });\n      setSelectedUser(response.data); // Set the selected user data in state\n      setEditMode(false); // Disable edit mode when viewing\n    } catch (error) {\n      console.error('Error fetching user:', error);\n    }\n  };\n\n  // Edit User - Enter edit mode\n  const handleEditUser = user => {\n    setSelectedUser(user); // Set the selected user for editing\n    setEditMode(true); // Enable edit mode\n  };\n\n  // Save Edited User\n  const handleSaveUser = async () => {\n    try {\n      await axios.put(`http://localhost:5000/api/admin/users/${selectedUser._id}`, selectedUser, {\n        headers: {\n          Authorization: `Bearer ${sessionStorage.getItem('token')}`\n        }\n      });\n      setEditMode(false); // Exit edit mode\n      fetchUsers(); // Refresh the user list after editing\n    } catch (error) {\n      console.error('Error updating user:', error);\n    }\n  };\n\n  // View Provider Details\n  const handleViewProvider = async providerId => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/admin/providers/${providerId}`, {\n        headers: {\n          Authorization: `Bearer ${sessionStorage.getItem('token')}`\n        }\n      });\n      setSelectedProvider(response.data); // Set the selected provider data in state\n      setEditMode(false); // Disable edit mode when viewing\n    } catch (error) {\n      console.error('Error fetching provider:', error);\n    }\n  };\n\n  // Edit Provider - Enter edit mode\n  const handleEditProvider = provider => {\n    setSelectedProvider(provider); // Set the selected provider for editing\n    setEditMode(true); // Enable edit mode\n  };\n\n  // Save Edited Provider\n  const handleSaveProvider = async () => {\n    try {\n      await axios.put(`http://localhost:5000/api/admin/providers/${selectedProvider._id}`, selectedProvider, {\n        headers: {\n          Authorization: `Bearer ${sessionStorage.getItem('token')}`\n        }\n      });\n      setEditMode(false); // Exit edit mode\n      fetchProviders(); // Refresh the provider list after editing\n    } catch (error) {\n      console.error('Error updating provider:', error);\n    }\n  };\n\n  // Handle input changes for editing\n  const handleInputChange = (event, type) => {\n    const {\n      name,\n      value\n    } = event.target;\n    if (type === 'user') {\n      setSelectedUser({\n        ...selectedUser,\n        [name]: value\n      });\n    } else if (type === 'provider') {\n      setSelectedProvider({\n        ...selectedProvider,\n        [name]: value\n      });\n    }\n  };\n\n  // Delete User\n  const handleDeleteUser = async userId => {\n    if (window.confirm('Are you sure you want to delete this user?')) {\n      try {\n        await axios.delete(`http://localhost:5000/api/admin/users/${userId}`, {\n          headers: {\n            Authorization: `Bearer ${sessionStorage.getItem('token')}`\n          }\n        });\n        setUsers(users.filter(user => user._id !== userId)); // Remove user from state\n      } catch (error) {\n        console.error('Error deleting user:', error);\n      }\n    }\n  };\n\n  // Delete Provider\n  const handleDeleteProvider = async providerId => {\n    if (window.confirm('Are you sure you want to delete this provider?')) {\n      try {\n        await axios.delete(`http://localhost:5000/api/admin/providers/${providerId}`, {\n          headers: {\n            Authorization: `Bearer ${sessionStorage.getItem('token')}`\n          }\n        });\n        setProviders(providers.filter(provider => provider._id !== providerId)); // Remove provider from state\n      } catch (error) {\n        console.error('Error deleting provider:', error);\n      }\n    }\n  };\n\n  // Handle loading and error states\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Admin Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Manage Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.role\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleViewUser(user._id),\n                children: \"View\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditUser(user),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteUser(user._id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this)]\n          }, user._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), selectedUser && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: editMode ? 'Edit User' : 'View User'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"name\",\n          value: selectedUser.name,\n          onChange: e => handleInputChange(e, 'user'),\n          readOnly: !editMode // Disable input if not in edit mode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"email\",\n          value: selectedUser.email,\n          onChange: e => handleInputChange(e, 'user'),\n          readOnly: !editMode // Disable input if not in edit mode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Role:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"role\",\n          value: selectedUser.role,\n          onChange: e => handleInputChange(e, 'user'),\n          readOnly: !editMode // Disable input if not in edit mode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this), editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSaveUser,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setEditMode(false),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 15\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Manage Providers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Restaurant Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Rating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: providers.map(provider => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: provider.restaurantName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: provider.rating\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleViewProvider(provider._id),\n                children: \"View\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditProvider(provider),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteProvider(provider._id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this)]\n          }, provider._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), selectedProvider && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: editMode ? 'Edit Provider' : 'View Provider'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Restaurant Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"restaurantName\",\n          value: selectedProvider.restaurantName,\n          onChange: e => handleInputChange(e, 'provider'),\n          readOnly: !editMode // Disable input if not in edit mode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Rating:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"rating\",\n          value: selectedProvider.rating,\n          onChange: e => handleInputChange(e, 'provider'),\n          readOnly: !editMode // Disable input if not in edit mode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this), editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSaveProvider,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setEditMode(false),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 15\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Manage Orders\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Order ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Customer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Provider\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: orders.map(order => {\n            var _order$customerId, _order$providerId;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: order._id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ((_order$customerId = order.customerId) === null || _order$customerId === void 0 ? void 0 : _order$customerId.name) || 'Unknown Customer'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ((_order$providerId = order.providerId) === null || _order$providerId === void 0 ? void 0 : _order$providerId.restaurantName) || 'Unknown Provider'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\"$\", order.totalAmount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this)]\n            }, order._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDashboard, \"Cy8S0hyQ+AM+RZnqIuRysk6IKaE=\");\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","AdminDashboard","_s","users","setUsers","providers","setProviders","orders","setOrders","selectedUser","setSelectedUser","selectedProvider","setSelectedProvider","editMode","setEditMode","loading","setLoading","error","setError","fetchData","fetchUsers","fetchProviders","fetchOrders","err","response","get","headers","Authorization","sessionStorage","getItem","data","console","handleViewUser","userId","handleEditUser","user","handleSaveUser","put","_id","handleViewProvider","providerId","handleEditProvider","provider","handleSaveProvider","handleInputChange","event","type","name","value","target","handleDeleteUser","window","confirm","delete","filter","handleDeleteProvider","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","email","role","onClick","onChange","e","readOnly","restaurantName","rating","order","_order$customerId","_order$providerId","customerId","totalAmount","status","_c","$RefreshReg$"],"sources":["C:/Users/meeta/Desktop/Study/Sem 4/Capstone/TiffinConnect/frontend/src/components/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './adminDashboard.css'; // Custom styles for the dashboard\r\nimport axios from 'axios';\r\n\r\nconst AdminDashboard = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [providers, setProviders] = useState([]);\r\n  const [orders, setOrders] = useState([]);\r\n  const [selectedUser, setSelectedUser] = useState(null); // State to hold selected user for view/edit\r\n  const [selectedProvider, setSelectedProvider] = useState(null); // State to hold selected provider for view/edit\r\n  const [editMode, setEditMode] = useState(false); // State to handle edit mode\r\n  const [loading, setLoading] = useState(true); // Loading state\r\n  const [error, setError] = useState(null); // Error state\r\n\r\n  // Fetch data when the component mounts\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        await fetchUsers();\r\n        await fetchProviders();\r\n        await fetchOrders();\r\n        setLoading(false); // Set loading to false once data is fetched\r\n      } catch (err) {\r\n        setError('Failed to load data');\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Fetch users from the backend\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:5000/api/admin/users', {\r\n        headers: {\r\n          Authorization: `Bearer ${sessionStorage.getItem('token')}` // Pass the JWT token\r\n        }\r\n      });\r\n      setUsers(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n    }\r\n  };\r\n\r\n  // Fetch providers from the backend\r\n  const fetchProviders = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:5000/api/admin/providers', {\r\n        headers: {\r\n          Authorization: `Bearer ${sessionStorage.getItem('token')}`\r\n        }\r\n      });\r\n      setProviders(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching providers:', error);\r\n    }\r\n  };\r\n\r\n  // Fetch orders from the backend\r\n  const fetchOrders = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:5000/api/admin/orders', {\r\n        headers: {\r\n          Authorization: `Bearer ${sessionStorage.getItem('token')}`\r\n        }\r\n      });\r\n      setOrders(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching orders:', error);\r\n    }\r\n  };\r\n\r\n  // View User Details\r\n  const handleViewUser = async (userId) => {\r\n    try {\r\n      const response = await axios.get(`http://localhost:5000/api/admin/users/${userId}`, {\r\n        headers: { Authorization: `Bearer ${sessionStorage.getItem('token')}` }\r\n      });\r\n      setSelectedUser(response.data); // Set the selected user data in state\r\n      setEditMode(false); // Disable edit mode when viewing\r\n    } catch (error) {\r\n      console.error('Error fetching user:', error);\r\n    }\r\n  };\r\n\r\n  // Edit User - Enter edit mode\r\n  const handleEditUser = (user) => {\r\n    setSelectedUser(user); // Set the selected user for editing\r\n    setEditMode(true); // Enable edit mode\r\n  };\r\n\r\n  // Save Edited User\r\n  const handleSaveUser = async () => {\r\n    try {\r\n      await axios.put(`http://localhost:5000/api/admin/users/${selectedUser._id}`, selectedUser, {\r\n        headers: { Authorization: `Bearer ${sessionStorage.getItem('token')}` }\r\n      });\r\n      setEditMode(false); // Exit edit mode\r\n      fetchUsers(); // Refresh the user list after editing\r\n    } catch (error) {\r\n      console.error('Error updating user:', error);\r\n    }\r\n  };\r\n\r\n  // View Provider Details\r\n  const handleViewProvider = async (providerId) => {\r\n    try {\r\n      const response = await axios.get(`http://localhost:5000/api/admin/providers/${providerId}`, {\r\n        headers: { Authorization: `Bearer ${sessionStorage.getItem('token')}` }\r\n      });\r\n      setSelectedProvider(response.data); // Set the selected provider data in state\r\n      setEditMode(false); // Disable edit mode when viewing\r\n    } catch (error) {\r\n      console.error('Error fetching provider:', error);\r\n    }\r\n  };\r\n\r\n  // Edit Provider - Enter edit mode\r\n  const handleEditProvider = (provider) => {\r\n    setSelectedProvider(provider); // Set the selected provider for editing\r\n    setEditMode(true); // Enable edit mode\r\n  };\r\n\r\n  // Save Edited Provider\r\n  const handleSaveProvider = async () => {\r\n    try {\r\n      await axios.put(`http://localhost:5000/api/admin/providers/${selectedProvider._id}`, selectedProvider, {\r\n        headers: { Authorization: `Bearer ${sessionStorage.getItem('token')}` }\r\n      });\r\n      setEditMode(false); // Exit edit mode\r\n      fetchProviders(); // Refresh the provider list after editing\r\n    } catch (error) {\r\n      console.error('Error updating provider:', error);\r\n    }\r\n  };\r\n\r\n  // Handle input changes for editing\r\n  const handleInputChange = (event, type) => {\r\n    const { name, value } = event.target;\r\n    if (type === 'user') {\r\n      setSelectedUser({ ...selectedUser, [name]: value });\r\n    } else if (type === 'provider') {\r\n      setSelectedProvider({ ...selectedProvider, [name]: value });\r\n    }\r\n  };\r\n\r\n  // Delete User\r\n  const handleDeleteUser = async (userId) => {\r\n    if (window.confirm('Are you sure you want to delete this user?')) {\r\n      try {\r\n        await axios.delete(`http://localhost:5000/api/admin/users/${userId}`, {\r\n          headers: { Authorization: `Bearer ${sessionStorage.getItem('token')}` }\r\n        });\r\n        setUsers(users.filter(user => user._id !== userId)); // Remove user from state\r\n      } catch (error) {\r\n        console.error('Error deleting user:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Delete Provider\r\n  const handleDeleteProvider = async (providerId) => {\r\n    if (window.confirm('Are you sure you want to delete this provider?')) {\r\n      try {\r\n        await axios.delete(`http://localhost:5000/api/admin/providers/${providerId}`, {\r\n          headers: { Authorization: `Bearer ${sessionStorage.getItem('token')}` }\r\n        });\r\n        setProviders(providers.filter(provider => provider._id !== providerId)); // Remove provider from state\r\n      } catch (error) {\r\n        console.error('Error deleting provider:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Handle loading and error states\r\n  if (loading) {\r\n    return <div>Loading data...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div>{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-dashboard\">\r\n      <h1>Admin Dashboard</h1>\r\n\r\n      {/* Manage Users Section */}\r\n      <section>\r\n        <h2>Manage Users</h2>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Email</th>\r\n              <th>Role</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {users.map(user => (\r\n              <tr key={user._id}>\r\n                <td>{user.name}</td>\r\n                <td>{user.email}</td>\r\n                <td>{user.role}</td>\r\n                <td>\r\n                  <button onClick={() => handleViewUser(user._id)}>View</button>\r\n                  <button onClick={() => handleEditUser(user)}>Edit</button>\r\n                  <button onClick={() => handleDeleteUser(user._id)}>Delete</button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n\r\n        {/* View or Edit User Form */}\r\n        {selectedUser && (\r\n          <div>\r\n            <h3>{editMode ? 'Edit User' : 'View User'}</h3>\r\n            <label>Name:</label>\r\n            <input\r\n              name=\"name\"\r\n              value={selectedUser.name}\r\n              onChange={(e) => handleInputChange(e, 'user')}\r\n              readOnly={!editMode} // Disable input if not in edit mode\r\n            />\r\n            <label>Email:</label>\r\n            <input\r\n              name=\"email\"\r\n              value={selectedUser.email}\r\n              onChange={(e) => handleInputChange(e, 'user')}\r\n              readOnly={!editMode} // Disable input if not in edit mode\r\n            />\r\n            <label>Role:</label>\r\n            <input\r\n              name=\"role\"\r\n              value={selectedUser.role}\r\n              onChange={(e) => handleInputChange(e, 'user')}\r\n              readOnly={!editMode} // Disable input if not in edit mode\r\n            />\r\n            {editMode ? (\r\n              <div>\r\n                <button onClick={handleSaveUser}>Save</button>\r\n                <button onClick={() => setEditMode(false)}>Cancel</button>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        )}\r\n      </section>\r\n\r\n      {/* Manage Providers Section */}\r\n      <section>\r\n        <h2>Manage Providers</h2>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Restaurant Name</th>\r\n              <th>Rating</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {providers.map(provider => (\r\n              <tr key={provider._id}>\r\n                <td>{provider.restaurantName}</td>\r\n                <td>{provider.rating}</td>\r\n                <td>\r\n                  <button onClick={() => handleViewProvider(provider._id)}>View</button>\r\n                  <button onClick={() => handleEditProvider(provider)}>Edit</button>\r\n                  <button onClick={() => handleDeleteProvider(provider._id)}>Delete</button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n\r\n        {/* View or Edit Provider Form */}\r\n        {selectedProvider && (\r\n          <div>\r\n            <h3>{editMode ? 'Edit Provider' : 'View Provider'}</h3>\r\n            <label>Restaurant Name:</label>\r\n            <input\r\n              name=\"restaurantName\"\r\n              value={selectedProvider.restaurantName}\r\n              onChange={(e) => handleInputChange(e, 'provider')}\r\n              readOnly={!editMode} // Disable input if not in edit mode\r\n            />\r\n            <label>Rating:</label>\r\n            <input\r\n              name=\"rating\"\r\n              value={selectedProvider.rating}\r\n              onChange={(e) => handleInputChange(e, 'provider')}\r\n              readOnly={!editMode} // Disable input if not in edit mode\r\n            />\r\n            {editMode ? (\r\n              <div>\r\n                <button onClick={handleSaveProvider}>Save</button>\r\n                <button onClick={() => setEditMode(false)}>Cancel</button>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        )}\r\n      </section>\r\n\r\n      {/* Manage Orders Section */}\r\n      <section>\r\n        <h2>Manage Orders</h2>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Order ID</th>\r\n              <th>Customer</th>\r\n              <th>Provider</th>\r\n              <th>Total Amount</th>\r\n              <th>Status</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map(order => (\r\n              <tr key={order._id}>\r\n                <td>{order._id}</td>\r\n                <td>{order.customerId?.name || 'Unknown Customer'}</td>\r\n                <td>{order.providerId?.restaurantName || 'Unknown Provider'}</td>\r\n                <td>${order.totalAmount}</td>\r\n                <td>{order.status}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}